[gd_scene load_steps=33 format=3 uid="uid://cs0hg5utgl0j3"]

[ext_resource type="PackedScene" uid="uid://bol6q2kmec88g" path="res://Player/player.tscn" id="1_1ajpe"]
[ext_resource type="Script" path="res://Game.gd" id="1_ky4m1"]
[ext_resource type="Shader" path="res://UI/Sky.gdshader" id="1_qqh7y"]
[ext_resource type="PackedScene" uid="uid://d33lbbr5pcrcg" path="res://UI/HUD.tscn" id="4_8eg2a"]
[ext_resource type="PackedScene" uid="uid://dhvaqilelkuwk" path="res://UI/Pause_menu.tscn" id="4_nfaes"]
[ext_resource type="PackedScene" uid="uid://c75lxssi5rtdg" path="res://UI/Flash.tscn" id="5_8swrq"]
[ext_resource type="PackedScene" uid="uid://be0rukoiq6ith" path="res://UI/Inv.tscn" id="6_1a2fg"]
[ext_resource type="PackedScene" uid="uid://co2oradu5ggc8" path="res://Map.tscn" id="6_jvb1l"]
[ext_resource type="PackedScene" uid="uid://qavhnsrmor28" path="res://Items/Recipe.tscn" id="8_2p476"]
[ext_resource type="Shader" path="res://map materials/water.gdshader" id="8_grwsi"]
[ext_resource type="PackedScene" uid="uid://bp8huqnidjbsc" path="res://NPCs/Toaster.tscn" id="9_wcouh"]
[ext_resource type="AudioStream" uid="uid://b8kgltv06oid5" path="res://Assets/685660__arcana23__diamond-collect.wav" id="10_skd43"]
[ext_resource type="PackedScene" uid="uid://byfrjo52was54" path="res://NPCs/Sink.tscn" id="11_x0vgo"]
[ext_resource type="PackedScene" uid="uid://bihdc7xg3klqf" path="res://NPCs/Oven.tscn" id="12_0ymrq"]
[ext_resource type="PackedScene" uid="uid://bwmrqe4ihklub" path="res://Enemies/Slime.tscn" id="14_xjyyk"]
[ext_resource type="AudioStream" uid="uid://bm2s78ngkjedr" path="res://Assets/Daniel Birch & Ben Pegley - Lurking Beneath the Surface.mp3" id="16_34lx7"]
[ext_resource type="PackedScene" uid="uid://kppvanpok87j" path="res://Player/Interact.tscn" id="17_rimo7"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x0q1f"]
shader = ExtResource("1_qqh7y")
shader_parameter/color_top = Color(0.91, 0.14, 1, 1)
shader_parameter/color_horizon = Color(1, 0.4, 0.42, 1)
shader_parameter/color_bottom = Color(1, 0.74, 0.39, 1)
shader_parameter/exponent_factor_top = 1.0
shader_parameter/exponent_factor_bottom = 1.0
shader_parameter/intensity_amp = 1.0

[sub_resource type="Sky" id="Sky_6wdbm"]
sky_material = SubResource("ShaderMaterial_x0q1f")

[sub_resource type="Environment" id="Environment_qrbop"]
background_mode = 2
sky = SubResource("Sky_6wdbm")
ambient_light_energy = 1.01
reflected_light_source = 2

[sub_resource type="CylinderShape3D" id="CylinderShape3D_rmc5e"]
height = 0.329177
radius = 1.42011

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yxl1d"]
albedo_color = Color(0.168627, 0.0666667, 0.12549, 1)

[sub_resource type="CylinderMesh" id="CylinderMesh_pk5ji"]
material = SubResource("StandardMaterial3D_yxl1d")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_gtmqh"]
points = PackedVector3Array(-0.214183, -0.948028, -0.451129, 0.0227317, 0.952146, 0.498887, 0.171488, 0.951995, 0.469018, -0.125934, 0.952684, -0.483291, 0.499663, -0.953674, -0.00688883, -0.387646, -0.93796, 0.315653, -0.483292, 0.952686, -0.12593, 0.375097, 0.940128, -0.329816, 0.171488, -0.951995, 0.469018, 0.140783, -0.945485, -0.479579, 0.469014, 0.952011, 0.171499, -0.387646, 0.93796, 0.315653, -0.483292, -0.952686, -0.12593, -0.183511, -0.943076, 0.464698, 0.407412, -0.946994, 0.288983, 0.375097, -0.940128, -0.329816, -0.395154, 0.955761, -0.305523, -0.479555, 0.945437, 0.14088, 0.464698, 0.943099, -0.183512, 0.140783, 0.945485, -0.479579, -0.243203, 0.945955, 0.436491, -0.479555, -0.945437, 0.14088, 0.288971, 0.946988, 0.407421, -0.395154, -0.955761, -0.305523, -0.0069906, -0.953641, 0.499658, 0.499663, 0.953674, -0.00688883, -0.271948, 0.943071, -0.419217, 0.464698, -0.943099, -0.183512, -0.125934, -0.952684, -0.483291, 0.315648, 0.937973, -0.387651, 0.469014, -0.952011, 0.171499, 0.407412, 0.946994, 0.288983)

[sub_resource type="CylinderMesh" id="CylinderMesh_adwk2"]

[sub_resource type="Shader" id="Shader_hormx"]
code = "// Wind Waker style water - NekotoArts
// Adapted from https://www.shadertoy.com/view/3tKBDz
// After which I added in some fractal Brownian motion
// as well as vertex displacement

shader_type spatial;

uniform vec4 WATER_COL : source_color =  vec4(0.04, 0.38, 0.88, 1.0);
uniform vec4 WATER2_COL : source_color =  vec4(0.04, 0.35, 0.78, 1.0);
uniform vec4 FOAM_COL : source_color = vec4(0.8125, 0.9609, 0.9648, 1.0);
uniform float distortion_speed = 2.0;
uniform vec2 tile = vec2(10, 8);
uniform float height = .2;
uniform vec2 wave_size = vec2(0.0, 0.0);
uniform float wave_speed = 1.5;

const float M_2PI = 6.283185307;
const float M_6PI = 18.84955592;

float random(vec2 uv) {
    return fract(sin(dot(uv.xy,
        vec2(12.9898,78.233))) *
            43758.5453123);
}

float noise(vec2 uv) {
    vec2 uv_index = floor(uv);
    vec2 uv_fract = fract(uv);

    // Four corners in 2D of a tile
    float a = random(uv_index);
    float b = random(uv_index + vec2(1.0, 0.0));
    float c = random(uv_index + vec2(0.0, 1.0));
    float d = random(uv_index + vec2(1.0, 1.0));

    vec2 blur = smoothstep(0.0, 1.0, uv_fract);

    return mix(a, b, blur.x) +
            (c - a) * blur.y * (1.0 - blur.x) +
            (d - b) * blur.x * blur.y;
}

float fbm(vec2 uv) {
    int octaves = 6;
    float amplitude = 0.5;
    float frequency = 3.0;
	float value = 0.0;
	
    for(int i = 0; i < octaves; i++) {
        value += amplitude * noise(frequency * uv);
        amplitude *= 0.5;
        frequency *= 2.0;
    }
    return value;
}

float circ(vec2 pos, vec2 c, float s)
{
    c = abs(pos - c);
    c = min(c, 1.0 - c);

    return smoothstep(0.0, 0.002, sqrt(s) - sqrt(dot(c, c))) * -1.0;
}

// Foam pattern for the water constructed out of a series of circles
float waterlayer(vec2 uv)
{
    uv = mod(uv, 1.0); // Clamp to [0..1]
	
    float ret = 1.0;
    ret += circ(uv, vec2(0.37378, 0.277169), 0.0268181);
    ret += circ(uv, vec2(0.0317477, 0.540372), 0.0193742);
    ret += circ(uv, vec2(0.430044, 0.882218), 0.0232337);
    ret += circ(uv, vec2(0.641033, 0.695106), 0.0117864);
    ret += circ(uv, vec2(0.0146398, 0.0791346), 0.0299458);
    ret += circ(uv, vec2(0.43871, 0.394445), 0.0289087);
    ret += circ(uv, vec2(0.909446, 0.878141), 0.028466);
    ret += circ(uv, vec2(0.310149, 0.686637), 0.0128496);
    ret += circ(uv, vec2(0.928617, 0.195986), 0.0152041);
    ret += circ(uv, vec2(0.0438506, 0.868153), 0.0268601);
    ret += circ(uv, vec2(0.308619, 0.194937), 0.00806102);
    ret += circ(uv, vec2(0.349922, 0.449714), 0.00928667);
    ret += circ(uv, vec2(0.0449556, 0.953415), 0.023126);
    ret += circ(uv, vec2(0.117761, 0.503309), 0.0151272);
    ret += circ(uv, vec2(0.563517, 0.244991), 0.0292322);
    ret += circ(uv, vec2(0.566936, 0.954457), 0.00981141);
    ret += circ(uv, vec2(0.0489944, 0.200931), 0.0178746);
    ret += circ(uv, vec2(0.569297, 0.624893), 0.0132408);
    ret += circ(uv, vec2(0.298347, 0.710972), 0.0114426);
    ret += circ(uv, vec2(0.878141, 0.771279), 0.00322719);
    ret += circ(uv, vec2(0.150995, 0.376221), 0.00216157);
    ret += circ(uv, vec2(0.119673, 0.541984), 0.0124621);
    ret += circ(uv, vec2(0.629598, 0.295629), 0.0198736);
    ret += circ(uv, vec2(0.334357, 0.266278), 0.0187145);
    ret += circ(uv, vec2(0.918044, 0.968163), 0.0182928);
    ret += circ(uv, vec2(0.965445, 0.505026), 0.006348);
    ret += circ(uv, vec2(0.514847, 0.865444), 0.00623523);
    ret += circ(uv, vec2(0.710575, 0.0415131), 0.00322689);
    ret += circ(uv, vec2(0.71403, 0.576945), 0.0215641);
    ret += circ(uv, vec2(0.748873, 0.413325), 0.0110795);
    ret += circ(uv, vec2(0.0623365, 0.896713), 0.0236203);
    ret += circ(uv, vec2(0.980482, 0.473849), 0.00573439);
    ret += circ(uv, vec2(0.647463, 0.654349), 0.0188713);
    ret += circ(uv, vec2(0.651406, 0.981297), 0.00710875);
    ret += circ(uv, vec2(0.428928, 0.382426), 0.0298806);
    ret += circ(uv, vec2(0.811545, 0.62568), 0.00265539);
    ret += circ(uv, vec2(0.400787, 0.74162), 0.00486609);
    ret += circ(uv, vec2(0.331283, 0.418536), 0.00598028);
    ret += circ(uv, vec2(0.894762, 0.0657997), 0.00760375);
    ret += circ(uv, vec2(0.525104, 0.572233), 0.0141796);
    ret += circ(uv, vec2(0.431526, 0.911372), 0.0213234);
    ret += circ(uv, vec2(0.658212, 0.910553), 0.000741023);
    ret += circ(uv, vec2(0.514523, 0.243263), 0.0270685);
    ret += circ(uv, vec2(0.0249494, 0.252872), 0.00876653);
    ret += circ(uv, vec2(0.502214, 0.47269), 0.0234534);
    ret += circ(uv, vec2(0.693271, 0.431469), 0.0246533);
    ret += circ(uv, vec2(0.415, 0.884418), 0.0271696);
    ret += circ(uv, vec2(0.149073, 0.41204), 0.00497198);
    ret += circ(uv, vec2(0.533816, 0.897634), 0.00650833);
    ret += circ(uv, vec2(0.0409132, 0.83406), 0.0191398);
    ret += circ(uv, vec2(0.638585, 0.646019), 0.0206129);
    ret += circ(uv, vec2(0.660342, 0.966541), 0.0053511);
    ret += circ(uv, vec2(0.513783, 0.142233), 0.00471653);
    ret += circ(uv, vec2(0.124305, 0.644263), 0.00116724);
    ret += circ(uv, vec2(0.99871, 0.583864), 0.0107329);
    ret += circ(uv, vec2(0.894879, 0.233289), 0.00667092);
    ret += circ(uv, vec2(0.246286, 0.682766), 0.00411623);
    ret += circ(uv, vec2(0.0761895, 0.16327), 0.0145935);
    ret += circ(uv, vec2(0.949386, 0.802936), 0.0100873);
    ret += circ(uv, vec2(0.480122, 0.196554), 0.0110185);
    ret += circ(uv, vec2(0.896854, 0.803707), 0.013969);
    ret += circ(uv, vec2(0.292865, 0.762973), 0.00566413);
    ret += circ(uv, vec2(0.0995585, 0.117457), 0.00869407);
    ret += circ(uv, vec2(0.377713, 0.00335442), 0.0063147);
    ret += circ(uv, vec2(0.506365, 0.531118), 0.0144016);
    ret += circ(uv, vec2(0.408806, 0.894771), 0.0243923);
    ret += circ(uv, vec2(0.143579, 0.85138), 0.00418529);
    ret += circ(uv, vec2(0.0902811, 0.181775), 0.0108896);
    ret += circ(uv, vec2(0.780695, 0.394644), 0.00475475);
    ret += circ(uv, vec2(0.298036, 0.625531), 0.00325285);
    ret += circ(uv, vec2(0.218423, 0.714537), 0.00157212);
    ret += circ(uv, vec2(0.658836, 0.159556), 0.00225897);
    ret += circ(uv, vec2(0.987324, 0.146545), 0.0288391);
    ret += circ(uv, vec2(0.222646, 0.251694), 0.00092276);
    ret += circ(uv, vec2(0.159826, 0.528063), 0.00605293);
	return max(ret, 0.0);
}

// Procedural texture generation for the water
vec3 water(vec2 uv, vec3 cdir, float iTime)
{
    uv *= vec2(0.25);
	uv += fbm(uv) * 0.2;

    // Parallax height distortion with two directional waves at
    // slightly different angles.
    vec2 a = 0.025 * cdir.xz / cdir.y; // Parallax offset
    float h = sin(uv.x + iTime); // Height at UV
    uv += a * h;
    h = sin(0.841471 * uv.x - 0.540302 * uv.y + iTime);
    uv += a * h;
    
    // Texture distortion
    float d1 = mod(uv.x + uv.y, M_2PI);
    float d2 = mod((uv.x + uv.y + 0.25) * 1.3, M_6PI);
    d1 = iTime * 0.07 + d1;
    d2 = iTime * 0.5 + d2;
    vec2 dist = vec2(
    	sin(d1) * 0.15 + sin(d2) * 0.05,
    	cos(d1) * 0.15 + cos(d2) * 0.05
    );
    
    vec3 ret = mix(WATER_COL.rgb, WATER2_COL.rgb, waterlayer(uv + dist.xy));
    ret = mix(ret, FOAM_COL.rgb, waterlayer(vec2(1.0) - uv - dist.yx));
    return ret;
}


void vertex(){
	float time = TIME * wave_speed;
	vec2 uv = UV * wave_size;
	float d1 = mod(uv.x + uv.y, M_2PI);
    float d2 = mod((uv.x + uv.y + 0.25) * 1.3, M_6PI);
    d1 = time * 0.07 + d1;
    d2 = time * 0.5 + d2;
    vec2 dist = vec2(
    	sin(d1) * 0.15 + sin(d2) * 0.05,
    	cos(d1) * 0.15 + cos(d2) * 0.05
    );
	VERTEX.y += dist.y * height;
}

void fragment()
{
	vec2 uv = UV;
	
    ALBEDO = vec3(water(uv * tile, vec3(0,1,0), TIME * distortion_speed));
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_t6tbi"]
render_priority = 0
shader = SubResource("Shader_hormx")
shader_parameter/WATER_COL = Color(0.17266, 0.533761, 0.89042, 1)
shader_parameter/WATER2_COL = Color(0.09, 0.39, 0.67, 1)
shader_parameter/FOAM_COL = Color(0.654902, 0.937255, 0.952941, 1)
shader_parameter/distortion_speed = 2.0
shader_parameter/tile = Vector2(3, 5)
shader_parameter/height = 0.6
shader_parameter/wave_size = Vector2(2, 2)
shader_parameter/wave_speed = 1.5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ovm5t"]
render_priority = 0
shader = ExtResource("8_grwsi")
shader_parameter/WATER_COL = Color(0.0392157, 0.65098, 0.878431, 1)
shader_parameter/WATER2_COL = Color(0.0392157, 0.478431, 0.780392, 1)
shader_parameter/FOAM_COL = Color(0.690196, 0.882353, 0.992157, 1)
shader_parameter/distortion_speed = 2.0
shader_parameter/tile = Vector2(10, 8)
shader_parameter/height = 0.2
shader_parameter/wave_size = Vector2(0, 0)
shader_parameter/wave_speed = 1.5

[sub_resource type="BoxMesh" id="BoxMesh_lvi3d"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_276m4"]
render_priority = 0
shader = ExtResource("8_grwsi")
shader_parameter/WATER_COL = Color(0.04, 0.38, 0.88, 1)
shader_parameter/WATER2_COL = Color(0.04, 0.35, 0.78, 1)
shader_parameter/FOAM_COL = Color(0.8125, 0.9609, 0.9648, 1)
shader_parameter/distortion_speed = 2.0
shader_parameter/tile = Vector2(10, 8)
shader_parameter/height = 0.2
shader_parameter/wave_size = Vector2(0, 0)
shader_parameter/wave_speed = 1.5

[sub_resource type="CylinderMesh" id="CylinderMesh_vey0x"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_hqgrr"]

[node name="Game" type="Node3D"]
transform = Transform3D(1, 0.000170591, -0.000261003, -0.000170541, 1, 0.000279722, 0.000261035, -0.000279692, 1, 0, 0, 0)
script = ExtResource("1_ky4m1")

[node name="UI" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="ColorRect" type="ColorRect" parent="UI"]
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
color = Color(0.0156863, 0.0156863, 0.0156863, 1)

[node name="HUD" parent="UI" instance=ExtResource("4_8eg2a")]
mouse_filter = 1

[node name="Flash" parent="UI" instance=ExtResource("5_8swrq")]
visible = false

[node name="Inv" parent="UI" instance=ExtResource("6_1a2fg")]
process_mode = 3
visible = false

[node name="Pause_menu" parent="UI" instance=ExtResource("4_nfaes")]
visible = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_qrbop")

[node name="map" type="Node3D" parent="."]

[node name="Map" parent="map" instance=ExtResource("6_jvb1l")]
transform = Transform3D(8, 1.78886e-10, 0, 2.42721e-10, 8, -4.65661e-10, 0, 0, 8, 0, 0, 0)

[node name="Drain" type="Area3D" parent="map"]
transform = Transform3D(1, 2.23608e-11, 0, 3.03402e-11, 1, -5.82077e-11, 0, 0, 1, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="map/Drain"]
transform = Transform3D(1, 3.42503e-10, 0, 3.50283e-10, 1, -6.98492e-10, 0, 0, 1, -4.43495, 3.06407, 3.80174)
shape = SubResource("CylinderShape3D_rmc5e")

[node name="StaticBody3D" type="StaticBody3D" parent="map/Drain"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="map/Drain/StaticBody3D"]
transform = Transform3D(3.92484, 3.79208e-11, -1.62981e-09, 8.35058e-10, 0.13725, -2.09548e-09, 5.82077e-10, 1.09139e-11, 3.92197, -4.63087, 2.29857, 3.86035)
mesh = SubResource("CylinderMesh_pk5ji")
skeleton = NodePath("../..")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="map/Drain/StaticBody3D"]
transform = Transform3D(3.92407, 1.16296e-10, -1.16415e-09, 6.00608e-10, 0.306332, -1.97906e-09, 6.98492e-10, 6.54836e-11, 3.92323, -4.63093, 2.64547, 3.86045)
transparency = 0.19
mesh = SubResource("CylinderMesh_pk5ji")
skeleton = NodePath("../..")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="map/Drain/StaticBody3D"]
transform = Transform3D(3.92315, 3.52919e-10, -9.31323e-10, 5.51466e-10, 0.835034, -1.86265e-09, 2.32831e-10, 2.03727e-10, 3.92474, -4.63093, 2.64547, 3.86045)
transparency = 0.44
mesh = SubResource("CylinderMesh_pk5ji")
skeleton = NodePath("../..")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="map/Drain/StaticBody3D"]
transform = Transform3D(3.92484, 3.79208e-11, -1.62981e-09, 8.35058e-10, 0.13725, -2.09548e-09, 5.82077e-10, 1.09139e-11, 3.92197, -4.63087, 2.29857, 3.86035)
shape = SubResource("ConvexPolygonShape3D_gtmqh")

[node name="Stream" type="MeshInstance3D" parent="map"]
transform = Transform3D(0.555499, -1.44328e-09, 1.60071e-10, 3.21709e-10, 5.44722, -2.47383e-10, -5.82077e-11, 1.39698e-09, 0.555639, -4.32777, 10.3046, 5.533)
visible = false
mesh = SubResource("CylinderMesh_adwk2")
surface_material_override/0 = SubResource("ShaderMaterial_t6tbi")

[node name="Water" type="MeshInstance3D" parent="map"]
transform = Transform3D(11.598, 8.13301e-10, 2.32831e-10, 4.27497e-09, 2.85446, -6.75209e-09, -2.32831e-10, 1.33878e-09, 9.75785, -3.96984, 5.72459, 2.30435)
visible = false
material_override = SubResource("ShaderMaterial_ovm5t")
transparency = 0.36
mesh = SubResource("BoxMesh_lvi3d")
surface_material_override/0 = SubResource("ShaderMaterial_276m4")

[node name="Plug" type="Node3D" parent="map"]

[node name="part" type="MeshInstance3D" parent="map/Plug"]
transform = Transform3D(2.67717, 3.24389e-11, 1.16415e-10, 5.36161e-10, 0.171655, -1.45519e-09, -5.82077e-11, 2.91038e-11, 2.67717, -4.52329, 4.99821, 3.7568)
mesh = SubResource("CylinderMesh_vey0x")
skeleton = NodePath("../..")

[node name="Area3D" type="Area3D" parent="map/Plug/part"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="map/Plug/part/Area3D"]
transform = Transform3D(1, -3.09086e-13, 2.91038e-11, -5.38876e-10, 1, 4.65661e-10, 0, 1.81899e-12, 1, 0, 0, 0)
shape = SubResource("CylinderShape3D_hqgrr")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 18.6995, 5.98183)

[node name="Items" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 18.6995, 5.98183)

[node name="Recipe" parent="Items" instance=ExtResource("8_2p476")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.59978, -10.0312, 6.65067)

[node name="NPCs" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 18.6995, 5.98183)

[node name="Toaster" parent="NPCs" instance=ExtResource("9_wcouh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.27702, -7.58363, -32.2173)

[node name="Sink" parent="NPCs" instance=ExtResource("11_x0vgo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.03265, -12.7671, -5.75642)

[node name="Oven" parent="NPCs" instance=ExtResource("12_0ymrq")]
transform = Transform3D(0.744955, -0.000230104, 0.667118, 0.000143113, 1, 0.000185113, -0.66712, -4.24287e-05, 0.744952, 31.7131, -13.9276, -19.3359)

[node name="Collect" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_skd43")

[node name="Slime" parent="." instance=ExtResource("14_xjyyk")]
transform = Transform3D(1, 3.42524e-10, 0, 3.50227e-10, 1, -6.98492e-10, 0, 0, 1, 21.9131, 0.844859, -10.0842)

[node name="Player" parent="." instance=ExtResource("1_1ajpe")]
transform = Transform3D(1, 2.23608e-11, 0, 3.03402e-11, 1, -5.82077e-11, 0, 0, 1, -19.0995, 10.3572, 13.2842)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("16_34lx7")
autoplay = true

[node name="Weapons" type="Node3D" parent="."]
transform = Transform3D(0.885325, 5.70353e-11, 0, 9.31664e-11, 0.885324, -2.32831e-10, -1.45519e-11, 8.73115e-11, 0.885324, 0, 0, 0)

[node name="panels" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Oven_int" parent="panels" instance=ExtResource("17_rimo7")]
visible = false
layout_mode = 1

[connection signal="body_entered" from="map/Drain" to="." method="_on_drain_body_entered"]
[connection signal="area_entered" from="map/Plug/part/Area3D" to="." method="_on_area_3d_area_entered"]
[connection signal="area_exited" from="map/Plug/part/Area3D" to="." method="_on_area_3d_area_exited"]
[connection signal="mouse_entered" from="map/Plug/part/Area3D" to="." method="_on_area_3d_mouse_entered"]
[connection signal="mouse_exited" from="map/Plug/part/Area3D" to="." method="_on_area_3d_mouse_exited"]
